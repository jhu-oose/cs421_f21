<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.4">
<link rel="alternate" type="application/rss+xml" href="/cs421_f21/blog/rss.xml" title="EN.601.421: Object-Oriented Software Engineering (OOSE) Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/cs421_f21/blog/atom.xml" title="EN.601.421: Object-Oriented Software Engineering (OOSE) Blog Atom Feed"><title data-react-helmet="true">Object Relational Mapping (ORM) | EN.601.421: Object-Oriented Software Engineering (OOSE)</title><meta data-react-helmet="true" property="og:url" content="https://jhu-oose.github.io/cs421_f21/docs/readings/wk4/orm"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Object Relational Mapping (ORM) | EN.601.421: Object-Oriented Software Engineering (OOSE)"><meta data-react-helmet="true" name="description" content="Object-relational mapping (ORM) is an application (library) to map your objects to a relational database; typically, you describe which classes and properties in the code map to which tables and columns in the database, and then the library does all the copying and translating. In this scenario, ORM sits between JDBC and the rest of your Java application."><meta data-react-helmet="true" property="og:description" content="Object-relational mapping (ORM) is an application (library) to map your objects to a relational database; typically, you describe which classes and properties in the code map to which tables and columns in the database, and then the library does all the copying and translating. In this scenario, ORM sits between JDBC and the rest of your Java application."><link data-react-helmet="true" rel="shortcut icon" href="/cs421_f21/img/logo_oose.svg"><link data-react-helmet="true" rel="canonical" href="https://jhu-oose.github.io/cs421_f21/docs/readings/wk4/orm"><link data-react-helmet="true" rel="alternate" href="https://jhu-oose.github.io/cs421_f21/docs/readings/wk4/orm" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://jhu-oose.github.io/cs421_f21/docs/readings/wk4/orm" hreflang="x-default"><link rel="stylesheet" href="/cs421_f21/assets/css/styles.44f16ba6.css">
<link rel="preload" href="/cs421_f21/assets/js/runtime~main.47293771.js" as="script">
<link rel="preload" href="/cs421_f21/assets/js/main.287ac093.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><div class="announcementBar_3WsW" style="background-color:#fafbfc;color:#091E42" role="banner"><div class="announcementBarContent_3EUC announcementBarCloseable_3myR">Iteration 1 source code due Tue 10/5 11:00pm! HW5 is out (due Wed 10/6)!</div><button type="button" class="announcementBarClose_38nx clean-btn" aria-label="Close"><span aria-hidden="true">Ã—</span></button></div><nav class="navbar navbar--fixed-top navbarHideable_2qcr"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/cs421_f21/"><b class="navbar__title">Home</b></a><a class="navbar__item navbar__link" href="/cs421_f21/syllabus">Schedule &amp; Policies</a><a class="navbar__item navbar__link" href="/cs421_f21/staff">Course Staff</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/cs421_f21/docs/">Readings</a><a class="navbar__item navbar__link" href="/cs421_f21/lectures">Lectures</a><a href="https://docs.google.com/spreadsheets/d/e/2PACX-1vSlhBMnPFB3J4YuYXjstHsUeEQYcPkrb-pcmjH-M7NDxKvh7NV8UPvps3aWWKC7Vdt5HBhZlohZLfJk/pubhtml" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">TA/CA Office Hours</a><a class="navbar__item navbar__link" href="/cs421_f21/toolbox">Toolbox</a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__item navbar__link">Homeworks</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/cs421_f21/docs/hw/hw1">Homework 1</a></li><li><a class="dropdown__link" href="/cs421_f21/docs/hw/hw2">Homework 2</a></li><li><a class="dropdown__link" href="/cs421_f21/docs/hw/hw3">Homework 3</a></li><li><a class="dropdown__link" href="/cs421_f21/docs/hw/hw4">Homework 4</a></li><li><a class="dropdown__link" href="/cs421_f21/docs/hw/hw5">Homework 5</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__item navbar__link">Project</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/cs421_f21/docs/proj/outline">Project Outline</a></li><li><a class="dropdown__link" href="/cs421_f21/docs/proj/it1">Iteration 1</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__item navbar__link">Quiz</a><ul class="dropdown__menu"></ul></div></div><div class="navbar__items navbar__items--right"><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button" title="Scroll to top"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo sidebarWithHideableNavbar_267A"><a tabindex="-1" class="sidebarLogo_3h0W" href="/cs421_f21/"><b>Home</b></a><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Introduction</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Building Software</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Core Concepts &amp; Technologies</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Software Design Basics</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Design Principles</a></li><li class="menu__list-item"><a class="menu__link" href="/cs421_f21/docs/readings/wk2/refactoring">Refactoring</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Design Patterns</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Persistence with Databases</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/cs421_f21/docs/readings/wk4/rdbms">Relational Databases</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/cs421_f21/docs/readings/wk4/jdbc">The Java Database Connectivity (JDBC) API</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/cs421_f21/docs/readings/wk4/sql">Structured Query Language</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/cs421_f21/docs/readings/wk4/persist_objects_in_db">Persist Objects in Databases</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/cs421_f21/docs/readings/wk4/jobs_employer_connect">Connecting `Job` and `Employer` Classes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/cs421_f21/docs/readings/wk4/code_reflect">A Reflection on Implementation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/cs421_f21/docs/readings/wk4/dao">CRUD operations in data access Object (DAO)</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/cs421_f21/docs/readings/wk4/orm">Object Relational Mapping</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">RESTful API</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Model-View-Controller</a></li><li class="menu__list-item"><a class="menu__link" href="/cs421_f21/docs/readings/wk5/cookies">HTTP Cookies</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Front-end Development</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="markdown"><header><h1 class="h1Heading_27L5">Object Relational Mapping (ORM)</h1></header><p>Object-relational mapping (ORM) is an application (library) to map your objects to a relational database; typically, you describe which classes and properties in the code map to which tables and columns in the database, and then the library does all the copying and translating. In this scenario, ORM sits between JDBC and the rest of your Java application.</p><p><img src="/cs421_f21/assets/images/orm-805241df4b0cc0db31f8cd5595f69e75.png"></p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="ormlite"></a>ORMLite<a class="hash-link" href="#ormlite" title="Direct link to heading">#</a></h2><p><a href="https://ormlite.com/" target="_blank" rel="noopener noreferrer">ORMLite</a> is a small java library, with the purpose of making database interaction easy. ORMLite provides lightweight functionality for persisting Java objects to SQL databases. To use it, you must add it as a dependency to your project. Open <code>gradle.build</code> and add the following line to the <code>dependencies</code> block.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly groovy"><pre tabindex="0" class="prism-code language-groovy codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">implementation &#x27;com.j256.ormlite:ormlite-jdbc:5.6&#x27;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="ormlite-annotations"></a>ORMLite Annotations<a class="hash-link" href="#ormlite-annotations" title="Direct link to heading">#</a></h2><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p>Annotations are special code markers have have been available in Java since version 5 that provide meta information about classes, methods, or fields</p></div></div><p>First step is to <em>annotate</em> the POJO model classes that you want to be persisted in the database. Let&#x27;s annotate the <code>Employer</code> class with ORMLite annotations as follows:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">package model;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">import com.j256.ormlite.field.DatabaseField;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">import com.j256.ormlite.table.DatabaseTable;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">@DatabaseTable(tableName = &quot;employers&quot;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">public class Employer {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    @DatabaseField(id = true)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    private Integer id;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    @DatabaseField(canBeNull = true, unique = true)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    private String name;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    @DatabaseField</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    private String sector;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    @DatabaseField</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    private String summary;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    public Employer() {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    public Employer(String name, String sector, String summary) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        this.name = name;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        this.sector = sector;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        this.summary = summary;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    public Integer getId() {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return id;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    public String getName() {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return name;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    public String getSector() {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return sector;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    public String getSummary() {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return summary;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p><code>@DatabaseTable(tableName = &quot;employers&quot;)</code> specifies that objects of <code>Employer</code> class are going to be mapped/saved to a table named <code>employers</code>. Each class field that we want corresponded/saved as a column in the target table needs to be annotated using <code>@DatabaseField</code>. The <code>id</code> argument passed to the <code>DatabaseField</code> annotation marks a particular class field as the id (i.e. primary key) of the table. In our case, class field named <code>id</code> is the primary key in the <code>employers</code> table. <code>canBeNull</code> and <code>unique</code> arguments are self-explanatory!</p><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</h5></div><div class="admonition-content"><p>In order for ORMLite to return the results of your queries properly make sure to always include an explicit default constructor in your class.</p></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="basic-database-operations"></a>Basic Database Operations<a class="hash-link" href="#basic-database-operations" title="Direct link to heading">#</a></h2><p>Once you have your model class(es) properly annotated, you can delegate many of the basic database tasks (i.e., CRUD tasks) to ORMLite without writing any SQLs really! That is pretty cool, isn&#x27;t it? </p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="create--read"></a>Create &amp; READ<a class="hash-link" href="#create--read" title="Direct link to heading">#</a></h3><p>Remember we did the following to create <code>employers</code> table:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">final String URI = &quot;jdbc:sqlite:./JBApp.db&quot;;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Connection conn = DriverManager.getConnection(URI);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Statement st = conn.createStatement();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Statement st = conn.createStatement();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">String sql = &quot;CREATE TABLE IF NOT EXISTS employers (id INTEGER PRIMARY KEY, </span></span><span class="token-line" style="color:#393A34"><span class="token plain">       name VARCHAR(100) NOT NULL UNIQUE, sector VARCHAR(100), summary VARCHAR(10000));&quot;;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">st.execute(sql);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">sql = &quot;INSERT INTO employers(id, name, sector, summary)&quot; +</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;VALUES (NULL, &#x27;Nestle&#x27;, &#x27;Food/Drink&#x27;, &#x27;&#x27;);&quot;;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">st.execute(sql);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>But, having <code>Employer</code> class ORMLite-annotated, you can achieve the same by:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">final String URI = &quot;jdbc:sqlite:./JBApp.db&quot;;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">ConnectionSource connectionSource = new JdbcConnectionSource(URI);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Dao&lt;Employer,Integer&gt; employerDao = DaoManager.createDao(connectionSource, Employer.class);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">TableUtils.createTableIfNotExists(connectionSource, Employer.class);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Employer em = new Employer (&quot;Nestle2&quot;, &quot;Food/Drink&quot;, &quot;&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">employerDao.create(em);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>First we create a database connection by passing the connection URI into <code>JdbcConnectionSource</code>. Next, we need to create a DAO object. For this, you need to provide the connection instance (i.e., <code>connectionSource</code>) as well as the (model) class that corresponds to the DAO we are creating to the <code>createDao</code> method of <code>DaoManager</code>. This creates a <code>Dao&lt;Employer, Integer&gt;</code> object for class <code>Employer</code> where <code>Integer</code> must corresponds to the datatype of the <code>id</code> field in the persisted class (i.e., <code>Employer</code> class). Using <code>TableUtils.createTableIfNotExists</code> we create the <code>employers</code> table if it does not exist already! Next, <code>employerDao.create(em);</code> results in execution of the following query on the <code>employers</code> table:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly sql"><pre tabindex="0" class="prism-code language-sql codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">INSERT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">INTO</span><span class="token plain"> employers </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> sector</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> summary</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">VALUES</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token boolean" style="color:#36acaa">NULL</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Nestle&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Food/Drink&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Now, using the same <code>employerDao</code> object we already created, we can read all the records in the <code>employers</code> table (and print their names) as follows: i.e., <code>SELECT * FROM employer</code></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">employerDao.create(em);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">List&lt;Employer&gt; ls  = employerDao.queryForAll();</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">for (Employer e: ls) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    System.out.println(e.getName());</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>There are other methods such as <code>queryForEq()</code> which you can call to read only select records. The following is equivalent of <code>SELECT * FROM employers WHERE name=&#x27;Nestle&#x27;</code>:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">employerDao.queryForEq(&quot;name&quot;, &quot;Nestle&quot;);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>More Operations</h5></div><div class="admonition-content"><p>ORMLite provides various classes and functionalities to do all sorts of database operations with minimal effort. Consult <a href="https://ormlite.com/javadoc/ormlite-core/doc-files/ormlite.html" target="_blank" rel="noopener noreferrer">this page</a> for further information.</p></div></div><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</h5></div><div class="admonition-content"><p>There are specific annotations to specify and work with foreign keys. These would be useful when setting up the <code>jobs</code> table in the context of <code>JBApp</code>. I trust you can find out those on your own by consulting the documentation page of ORMLite!</p></div></div></div><footer class="row docusaurus-mt-lg"><div class="col"><a href="https://jhu-oose.github.io/cs421_f21/docs/readings/wk4/orm.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_3DPF"></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/cs421_f21/docs/readings/wk4/dao"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« CRUD operations in data access Object (DAO)</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/cs421_f21/docs/readings/wk4/api"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Separation of Client and Server Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#ormlite" class="table-of-contents__link">ORMLite</a></li><li><a href="#ormlite-annotations" class="table-of-contents__link">ORMLite Annotations</a></li><li><a href="#basic-database-operations" class="table-of-contents__link">Basic Database Operations</a><ul><li><a href="#create--read" class="table-of-contents__link">Create &amp; READ</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 CS421 at JHU. Built with Docusaurus.</div></div></div></footer></div>
<script src="/cs421_f21/assets/js/runtime~main.47293771.js"></script>
<script src="/cs421_f21/assets/js/main.287ac093.js"></script>
</body>
</html>